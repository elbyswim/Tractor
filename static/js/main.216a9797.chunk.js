(this.webpackJsonpwebui=this.webpackJsonpwebui||[]).push([[0],{49:function(n,t,e){n.exports=e.p+"static/media/tractor_logo.e6e625d4.svg"},50:function(n,t,e){n.exports=e(93)},60:function(n,t,e){},90:function(n,t){},93:function(n,t,e){"use strict";e.r(t);var r=e(0),a=e.n(r),i=e(15),c=e.n(i),o=e(3),u=(e(60),e(1)),s=e(5),d=e(6),l=e(17),p=e(11),h=e(10),f=e(2),g=e(29),m=function(){function n(t){Object(s.a)(this,n),this.path="",this.suits=[],this.jokers=[],this.cards=[],this.suitOrder={S:0,D:1,C:2,H:3},this.valueOrder={A:0,K:1,Q:2,J:3,10:4,9:5,8:6,7:7,6:8,5:9,4:10,3:11,2:12},this.path=t,this.suits=new Set(["H","C","S","D"]),this.jokers=new Set(["S","B"]),this.cards=new Set(["A","2","3","4","5","6","7","8","9","10","J","Q","K"])}return Object(d.a)(n,[{key:"isValidCard",value:function(n){if("J"===n[1])return this.jokers.has(n[0]);var t=this.cards.has(n[0]),e=this.suits.has(n[1]);return t&&e}},{key:"getSvg",value:function(n){return this.isValidCard(n)||console.log("Invalid card: ".concat(n)),"".concat(this.path).concat(n[0]).concat(n[1],".svg")}},{key:"isTrump",value:function(n){return n[0]===this.trump}},{key:"insertCard",value:function(n,t,e,r){var a={card:t,isSelected:!1,svg:this.getSvg(t)};if(r&&("D"===r?this.suitOrder.S=4:"C"===r?(this.suitOrder.C=0,this.suitOrder.S=2):"H"===r&&(this.suitOrder.H=-1)),n.length>0){var i=0;if("S"===t[0]||"J"===t[1])for(;i<n.length&&"B"===n[i].card[0]&&"J"===n[i].card[1];)i++;else if(t[0]===e){for(;i<n.length&&"J"===n[i].card[1];)i++;for(;i<n.length&&n[i].card[0]===e&&this.suitOrder[n[i].card[1]]<this.suitOrder[t[1]];)i++}else{for(;i<n.length&&("J"===n[i].card[1]||n[i].card[0]===e);)i++;for(;i<n.length&&this.suitOrder[n[i].card[1]]<this.suitOrder[t[1]];)i++;for(;i<n.length&&this.suitOrder[n[i].card[1]]===this.suitOrder[t[1]]&&this.valueOrder[n[i].card[0]]<this.valueOrder[t[0]];)i++}n.splice(i,0,a)}else n.push(a)}},{key:"sortHand",value:function(n,t,e){arguments.length>3&&void 0!==arguments[3]&&arguments[3];var r=[],a=[],i=[],c=[],o=[],u=[],s=[],d=[],l=[],p=[];return"S"===e||"J"===e?n:(n.forEach((function(n){var e=n.card;"J"===e[1]&&o.push(n),e[0]===t?("S"===e[1]&&s.push(n),"C"===e[1]&&l.push(n),"H"===e[1]&&d.push(n),"D"===e[1]&&u.push(n)):("S"===e[1]&&i.push(n),"C"===e[1]&&a.push(n),"H"===e[1]&&c.push(n),"D"===e[1]&&r.push(n))})),p=p.concat(o),"C"===e&&(p=p.concat(l,d,s,u,a,c,i,r)),"H"===e&&(p=p.concat(d,s,u,l,c,i,r,a)),"D"===e&&(p=p.concat(u,l,d,s,r,a,c,i)),console.log("sortedCards",p),p)}},{key:"newTrump",value:function(n,t,e,r,a){"J"===e[1]?(n[e[0]+"J"]+=1,2===n[e[0]+"J"]&&(!r||"J"!==r[1]||"S"===r[0]&&"B"===e[0])&&t.push(e)):e[0]===a&&(console.log(n),n[e[1]]+=1,(!r||1===r[0]&&2===n[e[1]])&&t.push([n[e[1]],e[1]]))}},{key:"updateBid",value:function(n,t,e){e.splice(0,e.length),1===n[0]&&2===t[n[1]]&&e.push([2,n[1]])}},{key:"receiveBid",value:function(n,t,e){e.splice(0,e.length),g.a.isEqual(n,["B","J"])||(2===t.BJ&&e.push(["B","J"]),g.a.isEqual(n,["S","J"])||(2===t.SJ&&e.push(["S","J"]),2!==n[0]&&(2===t.S&&e.push([2,"S"]),2===t.D&&e.push([2,"D"]),2===t.C&&e.push([2,"C"]),2===t.H&&e.push([2,"H"]))))}}]),n}(),v=e(27),S=e.n(v),b=null;function C(n,t){var e;(b=S()("http://127.0.0.1:8000")).connected||(b=S()("tractorserver.herokuapp.com")),function(n,t){b.on("connectionStatus",(function(e){console.log("connected"),n(e,b.id,t)}))}(n,t),e=t,b.emit("setSocketId",e)}var x=function(n){return{appWidth:n.appWidth,appHeight:n.appHeight}},y=function(n){return n.clients},E=function(n){return n.clientIds},k=function(n){return n.numStateUpdated},T=function(n){return n.name},B=function(n){return n.id},O=function(n){return n.cards},j=function(n){return n.validBids},w=function(n){return n.currentBid},H=function(n){return n.trump},I=function(n){return n.trumpTracker},_=function(n){return n.numCardsSelected},D=function(n){return n.existingTricks},W=function(n){return n.currentClientTurn},U=function(n,t){return{type:"UPDATE_MY_HAND",payload:{trumpTracker:t,cards:n}}},J=function(n,t){return{type:"SET_CURRENT_BID",payload:{socketId:n,bid:t}}},N=function(n){return{type:"CAN_SELECT_CARDS",payload:n}},L=function(n){return{type:"UPDATE_NUM_CARDS_SELECTED",payload:n}},A=function(n){return{type:"TOGGLE_BID_BUTTONS",payload:n}};function R(){var n=Object(u.a)(["\n  z-index: ",";\n  display: flex;\n  align-items: flex-end;\n  height: ",";\n\n  &:not(:first-child) {\n    /* margin-left: ","; */\n    margin-left: ",";\n  }\n\n  &:hover "," {\n    z-index: 100;\n    transform: ","\n  }\n"]);return R=function(){return n},n}function z(){var n=Object(u.a)(["\n  flex-shrink: 0;\n  width: 50px;\n  height: 75px;\n"]);return z=function(){return n},n}function P(){var n=Object(u.a)(["\n  z-index: ",";\n  display: flex;\n  align-items: flex-end;\n  \n  &:not(:first-child) {\n    margin-left: -30px;\n  }\n"]);return P=function(){return n},n}function V(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return V=function(){return n},n}function F(){var n=Object(u.a)(["\n  flex-shrink: 0;\n  width: ",";\n  height: ",";\n  transform: ",";\n"]);return F=function(){return n},n}function M(){var n=Object(u.a)(["\n  position: fixed;\n  display: flex;\n  bottom: 40px;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  /* width: 1800px; */\n  /* height: ","; */\n"]);return M=function(){return n},n}var G=new m("/cardsSVG/"),Y=function(n){Object(p.a)(e,n);var t=Object(h.a)(e);function e(n){var r;return Object(s.a)(this,e),(r=t.call(this,n)).state={cardWidth:120,cardHeight:168,cardSelectedHeight:-30,cardHoveredHeight:-50,numCardsForBottom:0},r}return Object(d.a)(e,[{key:"componentDidMount",value:function(){this.setStage1Listeners(),this.setCardSize()}},{key:"setStage1Listeners",value:function(){var n,t,e,r,a;n=this.props.setTrumpValue.bind(this),b.on("setTrumpValue",(function(t){return n(t)})),t=this.setCards.bind(this),b.on("dealCard",t),e=this.updateBidStatus.bind(this),b.on("setNewBid",(function(n,t){return e(n,t)})),r=this.receiveBottomCards.bind(this),b.on("originalBottom",(function(n){return r(n)})),a=this.sortHand.bind(this),b.on("bidWon",a),this.setCardSize()}},{key:"sortHand",value:function(){var n=this.props,t=n.cards,e=n.currentBid,r=n.trumpTracker,a=n.trumpValue;this.props.updateCardsInHand(G.sortHand(t,a,e[1]),r)}},{key:"setCardSize",value:function(){var n,t,e,r,a=this.props.appWidth;2560===a&&(n=204,t=286,r=-70,e=-90),1920===a&&(n=120,t=168,r=-30,e=-50),1280===a&&(n=110,t=148,r=-30,e=-50),this.setState({cardWidth:n,cardHeight:t,cardHoveredHeight:e,cardSelectedHeight:r})}},{key:"setCards",value:function(n){if(n&&2===n.length){var t=this.props,e=t.cards,r=t.trumpValue,a=t.trumpTracker,i=t.validBids,c=t.currentBid,o=t.toggleBidButtons,u=t.setValidBids,s=t.updateCardsInHand;G.insertCard(e,n,r,c),G.newTrump(a,i,n,c,r),u(i),s(e,a),o(!0)}}},{key:"receiveBottomCards",value:function(n){var t=this;n.forEach((function(n){t.setCards(n)})),this.props.toggleCardSelector(!0),this.props.toggleBidButtons(!1)}},{key:"toggleSingleCard",value:function(n){var t=this.props,e=t.cards,r=t.numCardsSelected,a=e[n].isSelected;a?this.props.updateNumCardsSelected(r-1):this.props.updateNumCardsSelected(r+1),e[n].isSelected=!a}},{key:"toggleCards",value:function(n){var t=this.props,e=t.cards,r=t.trumpTracker,a=t.canSelectCards,i=t.numCardsSelected,c=e[n].isSelected;console.log("canToggleCards",a),a&&(e.length>25&&!c&&8===i?window.alert("Maximum cards for bottom selected"):(this.toggleSingleCard(n),this.props.updateCardsInHand(e,r)))}},{key:"getExistingTrickSvg",value:function(){var n=this.props,t=n.myId,e=n.existingTricks;return e&&e[t]?e[t].map((function(n){return G.getSvg(n)})):[]}},{key:"updateBidStatus",value:function(n,t){var e=this.props,r=e.trumpTracker,a=e.validBids;G.receiveBid(t,r,a),this.props.setCurrentBid(n,t)}},{key:"render",value:function(){var n=this,t=this.props,e=t.cards,r=t.numCards,i=this.state,c=i.cardWidth,o=i.cardHeight,u=i.cardSelectedHeight,s=i.cardHoveredHeight;return a.a.createElement(K,{height:o},a.a.createElement(q,null,this.getExistingTrickSvg().map((function(n,t){return a.a.createElement(Q,{zIndex:t},a.a.createElement(Z,{draggable:!1,width:c,height:o,src:n,key:t}))}))),a.a.createElement(q,null,e.map((function(t,e){return a.a.createElement($,{height:o,onClick:function(){n.toggleCards(e)},numCards:r,cardWidth:c,cardHoveredHeight:s,zIndex:e},a.a.createElement(X,{draggable:!1,width:c,height:o,isSelected:t.isSelected,cardSelectedHeight:u,src:t.svg,key:e}))}))))}}]),e}(r.Component),K=f.a.div(M(),(function(n){return"".concat(1.8*n.height,"px")})),X=f.a.img(F(),(function(n){return"".concat(n.width,"px")}),(function(n){return"".concat(n.height,"px")}),(function(n){return n.isSelected&&"translateY(".concat(n.cardSelectedHeight,"px);")})),q=f.a.div(V()),Q=f.a.span(P(),(function(n){return n.zIndex})),Z=f.a.img(z()),$=f.a.span(R(),(function(n){return n.zIndex}),(function(n){return"".concat(n.height+Math.abs(n.cardHoveredHeight),"px")}),(function(n){return"-".concat(2.3*n.numCards,"px")}),(function(n){return"-".concat(.65*n.cardWidth,"px")}),X,(function(n){return"translateY(".concat(n.cardHoveredHeight,"px);")})),nn=Object(o.b)((function(n){var t=B(n),e=O(n),r=y(n),a=D(n),i=w(n),c=H(n),o=I(n),u=j(n),s=function(n){return n.canSelectCards}(n),d=_(n),l=x(n),p=l.appWidth,h=l.appHeight;return{myId:t,cards:e,numCards:e.length,connectedClients:r,existingTricks:a,appWidth:p,appHeight:h,canSelectCards:s,numCardsSelected:d,currentBid:i,trumpValue:c,trumpTracker:o,validBids:u,changeState:k(n)}}),{updateCardsInHand:U,setValidBids:function(n){return{type:"SET_VALID_BIDS",payload:n}},setTrumpValue:function(n){return{type:"SET_TRUMP_VALUE",payload:n}},updateNumCardsSelected:L,toggleCardSelector:N,toggleBidButtons:A,setCurrentBid:J})(Y);function tn(){var n=Object(u.a)(['\n  padding: 0 5px;\n  font-size: 14px;\n  font-weight: 400;\n  text-indent: -2px;\n\n  &::before {\n    content: "\ud83d\ude9c ";\n  }\n']);return tn=function(){return n},n}function en(){var n=Object(u.a)(["\n  padding-bottom: 5px;\n  font-weight: 500;\n"]);return en=function(){return n},n}function rn(){var n=Object(u.a)(["\n  position: fixed;\n  transform: translateX(-25%);\n  top: 10px;\n  right: 0;\n  padding: 10px 30px 10px 10px;\n  width: 150px;\n  border-radius: 5px;\n  background-color: rgba(0,0,0, .20);\n  color: rgba(255, 255, 255, .6);\n  font-size: 18px;\n  list-style: none;\n"]);return rn=function(){return n},n}var an=f.a.ul(rn()),cn=f.a.div(en()),on=f.a.li(tn()),un=Object(o.b)((function(n){var t=B(n),e=T(n),r=y(n),a=E(n);return{myId:t,name:e,clients:r,clientTurn:W(n),clientIds:a,numStateChanges:k(n)}}))((function(n){var t=n.myId,e=n.name,i=n.clientIds,c=n.clients;Object(r.useEffect)((function(){document.title=e}));return a.a.createElement(an,null,a.a.createElement(cn,null,"PLAYERS"),i.map((function(e){return a.a.createElement(on,{key:e},function(e){var r="";return n.clientTurn===e&&(r="Waiting for "),r+=e===t?"you":c[e]}(e))})))}));function sn(){var n=Object(u.a)(["\n  margin: 0 5px;\n  width: 40px;\n  height: 60px;\n  \n  &:nth-child(n + 2) {\n    margin: 0 -20px;\n  }\n"]);return sn=function(){return n},n}function dn(){var n=Object(u.a)(['\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  padding: 0 5px;\n  font-size: 14px;\n  font-weight: 400;\n  text-indent: -2px;\n\n  &::before {\n    content: "\ud83d\ude9c ";\n  }\n']);return dn=function(){return n},n}function ln(){var n=Object(u.a)(["\n  padding-bottom: 5px;\n  font-weight: 500;\n"]);return ln=function(){return n},n}function pn(){var n=Object(u.a)(["\n  position: fixed;\n  transform: translateX(25%);\n  top: 10px;\n  left: 0;\n  padding: 10px 30px 10px 10px;\n  width: 150px;\n  border-radius: 5px;\n  background-color: rgba(0,0,0, .20);\n  color: rgba(255, 255, 255, .6);\n  font-size: 18px;\n  list-style: none;\n"]);return pn=function(){return n},n}var hn=function(n){Object(p.a)(e,n);var t=Object(h.a)(e);function e(n){var r;return Object(s.a)(this,e),(r=t.call(this,n)).state={bidHistory:[],updateComponent:0},r}return Object(d.a)(e,[{key:"componentDidUpdate",value:function(n){var t=this,e=this.props,r=e.currentBid,a=e.currentBottomClient,i=this.state,c=i.bidHistory,o=i.updateComponent,u=n.currentBottomClient,s=n.currentBid;JSON.stringify(s)===JSON.stringify(r)&&JSON.stringify(a)===JSON.stringify(u)||(c.push([a,r]),this.setState({bidHistory:c}),u&&setTimeout((function(){c.shift(),t.setState({bidHistory:c,updateComponent:o+1})}),5e3))}},{key:"getTrumpCardSvgs",value:function(n){var t,e=this.props.trumpValue,r=new m("/cardsSVG/"),i=[];if(n&&n.length)if("J"===n[1]){t=r.getSvg(n);for(var c=0;c<2;c++)i.push(a.a.createElement(vn,{src:t}))}else{t=r.getSvg([e,n[1]]);for(var o=0;o<n[0];o++)i.push(a.a.createElement(vn,{src:t}))}return i}},{key:"render",value:function(){var n=this,t=this.props.clients,e=this.state.bidHistory;return a.a.createElement(fn,null,a.a.createElement(gn,null,"TRUMP"),e.length?e.map((function(e){return a.a.createElement(mn,null,t[e[0]],": ",n.getTrumpCardSvgs(e[1]))})):"Undetermined")}}]),e}(r.Component),fn=f.a.ul(pn()),gn=f.a.div(ln()),mn=f.a.li(dn()),vn=f.a.img(sn()),Sn=Object(o.b)((function(n){var t=y(n),e=function(n){return n.currentBottomClient}(n);return{clients:t,currentBid:w(n),trumpValue:H(n),currentBottomClient:e,numStateChanges:k(n)}}))(hn);function bn(){var n=Object(u.a)(["\n  display: inline-block;\n  font-family: 'Roboto';\n  font-weight: 400;\n  outline: none;\n  border: transparent 2px solid;\n  border-radius: 2px;\n  padding: 0 10px;\n  height: 25px; \n  width: auto;\n  background-color: rgba(240,240,240, 1);\n  transition: all .1s linear;\n  cursor: pointer;\n\n  &:hover {\n    background-color: rgba(240,240,240, .8);\n  }\n"]);return bn=function(){return n},n}var Cn=f.a.button(bn()),xn=function(n){return a.a.createElement(Cn,{id:n.id,onClick:function(){return n.onClickCb&&n.onClickCb()}},n.label)};function yn(){var n=Object(u.a)(["\n  padding-left: 5px;\n  font-size: 20px;\n  color: red;\n  filter: ",";\n"]);return yn=function(){return n},n}function En(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  margin: 5px;\n  padding: 0;\n  border-radius: 5px;\n  height: 40px;\n  width: 105px;\n"]);return En=function(){return n},n}var kn=Object(f.a)(Cn)(En()),Tn=f.a.span(yn(),(function(n){return"black"===n.color&&"grayscale(1)"})),Bn=function(n){return a.a.createElement(kn,{onClick:function(){return n.onClickCb(n.bid)}},a.a.createElement("span",null,n.label),a.a.createElement(Tn,{color:n.color,dangerouslySetInnerHTML:{__html:n.icon}}))},On={H:"&#9825;",S:"&#9828;",C:"&#9831;",D:"&#9826;",SJ:"&#127183;",BJ:"&#127183;"};function jn(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  margin: 10px;\n  height: 40px;\n"]);return jn=function(){return n},n}function wn(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  flex-wrap: wrap;\n"]);return wn=function(){return n},n}var Hn=new m,In=f.a.div(wn()),_n=f.a.div(jn()),Dn=Object(o.b)((function(n){var t=T(n),e=B(n),r=j(n),a=H(n),i=I(n),c=w(n),o=function(n){return n.canBidForBottom}(n),u=W(n);return{myId:e,name:t,cards:O(n),validBids:r,clientTurnId:u,currentBid:c,trumpValue:a,canBidForBottom:o,trumpTracker:i,numCardsSelected:_(n),numUpdateStates:k(n)}}),{setCurrentBid:J,toggleBidButtons:A,updateCardsInHand:U,toggleCardSelector:N,setClientTurn:function(n){return{type:"SET_CLIENT_TURN",payload:n}},setTricksPlayed:function(n){return{type:"SET_ALL_TRICKS",payload:n}},updateNumCardsSelected:L})((function(n){var t=function(t){var e=n.myId,r=n.trumpTracker,a=n.validBids;!function(n){b.emit("newBid",n)}(t),n.setCurrentBid(e,t),Hn.updateBid(t,r,a)},e=function(){var t,e,a,o=n.cards;b.emit("doneBid"),n.toggleBidButtons(!1),t=i,b.on("nextClient",(function(n){t(n)})),e=c,b.on("cardsPlayed",(function(n){console.log("Received current tricks",n),e(n)})),a=r,b.on("generateTrump",(function(n,t){return a(n,t)})),U(o,{S:0,D:0,C:0,H:0,SJ:0,BJ:0})},r=function(t,e){n.setCurrentBid(t,e)},i=function(t){var e=n.myId,r=n.setClientTurn,a=n.toggleCardSelector;r(t),console.log("enableTurnsListener","".concat(t,"'s turn")),a(e===t)},c=function(t){n.setTricksPlayed(t)},o=function(){var t,e=n.cards,r=n.trumpTracker,a=n.updateCardsInHand,i=n.toggleCardSelector,c=n.updateNumCardsSelected,o=[],u=[];e.forEach((function(n){n.isSelected?o.push(n.card):u.push(n)})),console.log("cards sent back for bottom",o),a(u,r),i(!1),c(0),t=o,console.log(b.id,"returning bottom",t),b.emit("newBottom",t)},u=function(t,e){var r=n.cards,a=n.updateCardsInHand,i=n.trumpTracker,c=n.toggleCardSelector,o=n.updateNumCardsSelected;t?(a(e,i),c(!1),o(0),0===e.length&&J(null,null)):(alert("Invalid Trick"),a(r.map((function(n){return n.isSelected=!1,n})),i))},s=function(){var t=n.cards,e=[],r=[];t.forEach((function(n){n.isSelected?e.push(n.card):r.push(n)})),function(n,t,e){b.emit("clientPlay",n,t,e)}(e,r,u)};return a.a.createElement(In,null,a.a.createElement(_n,null,n.canBidForBottom&&function(){var t=n.validBids,e=[];return t.forEach((function(n){var t={rawData:n};"J"===n[1]?e.push(Object.assign({},t,{renderData:"S"===n[0]?["No Trump","SJ"]:["No Trump","BJ"],color:"S"===n[0]?"black":"red"})):e.push(Object.assign({},t,{renderData:[n[0],n[1]],color:"S"===n[1]||"C"===n[1]?"black":"red"}))})),e}().map((function(n,e){return a.a.createElement(Bn,{bid:n.rawData,label:n.renderData[0],icon:On[n.renderData[1]]||"",color:n.color,onClickCb:t,key:e})}))),a.a.createElement("span",null,n.canBidForBottom&&a.a.createElement(xn,{id:"finishBidBtn",label:"Finish Bid",onClickCb:e}),8===n.numCardsSelected&&n.cards.length>25&&a.a.createElement(xn,{id:"finishBottomBtn",label:"Finish Bottom",onClickCb:o}),n.clientTurnId===n.myId&&!!n.numCardsSelected&&a.a.createElement(xn,{id:"finishTrickBtn",label:"Finish Trick",onClickCb:s})))}));function Wn(){var n=Object(u.a)(["\n  top: 50%;\n  right: 0;\n  transform: translateY(-50%);\n  margin-right: 30px;\n"]);return Wn=function(){return n},n}function Un(){var n=Object(u.a)(["\n  top: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  margin-top: 30px;\n"]);return Un=function(){return n},n}function Jn(){var n=Object(u.a)(["\n  top: 50%;\n  left: 0;\n  transform: translateY(-50%);\n  margin-left: 30px;\n"]);return Jn=function(){return n},n}function Nn(){var n=Object(u.a)(["\n  margin-right: 30px;\n"]);return Nn=function(){return n},n}function Ln(){var n=Object(u.a)(["\n  margin: 0 5px;\n  width: 60px;\n  height: 90px;\n  \n  &:nth-child(n + 2) {\n    margin: 0 -20px;\n  }\n"]);return Ln=function(){return n},n}function An(){var n=Object(u.a)(["\n  position: fixed;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  width: auto;\n  min-width: 200px;\n  height: 90px;\n  padding: 10px 30px 10px 10px;\n  border-radius: 5px;\n  font-size: 24px;\n  background-color: rgba(0,0,0, .20);\n  color: rgba(255, 255, 255, .6);\n"]);return An=function(){return n},n}var Rn=f.a.div(An()),zn=f.a.img(Ln()),Pn=f.a.span(Nn()),Vn=Object(f.a)(Rn)(Jn()),Fn=Object(f.a)(Rn)(Un()),Mn=Object(f.a)(Rn)(Wn()),Gn=Object(o.b)((function(n){var t=B(n),e=y(n),r=E(n),a=D(n),i=x(n);return{myId:t,clients:e,clientIds:r,existingTricks:a,appWidth:i.appWidth,appHeight:i.appHeight,updateNumState:k(n)}}))((function(n){for(var t=n.myId,e=n.clients,r=n.clientIds,i=n.appWidth,c=n.existingTricks,o=[],u=r.indexOf(t),s=1;s<4;s++)o.push(r[(u+s)%4]);var d=function(n){var t,r=new m("/cardsSVG/"),u=o[n],s=e[u],d=c[u],l=[];return d&&d.length>0&&d.forEach((function(n){t=r.getSvg(n),l.push(a.a.createElement(zn,{src:t}))})),0===n?function(n,t){return a.a.createElement(Vn,{appWidth:i},o[0]?a.a.createElement(a.a.Fragment,null,a.a.createElement(Pn,null,n,":"),t):"Waiting for Player...")}(s,l):1===n?function(n,t){return a.a.createElement(Fn,{appWidth:i},o[1]?a.a.createElement(a.a.Fragment,null,a.a.createElement(Pn,null,n,":"),t):"Waiting for Player...")}(s,l):function(n,t){return a.a.createElement(Mn,{appWidth:i},o[2]?a.a.createElement(a.a.Fragment,null,a.a.createElement(Pn,null,n,":"),t):"Waiting for Player...")}(s,l)};return a.a.createElement(a.a.Fragment,null,d(0),d(1),d(2))})),Yn=e(49),Kn=e.n(Yn);function Xn(){var n=Object(u.a)(["\n  width: ",";\n"]);return Xn=function(){return n},n}function qn(){var n=Object(u.a)(["\n  margin: 5px 15px;\n  padding: 7px 10px;\n  outline: none;\n  border: transparent 2px solid;\n  border-radius: 2px 2px 0 0;\n  width: ",";\n  height: 15px;\n  background-color: darkgreen;\n  color: rgba(255, 255, 255, .9);\n  transition: all .3s cubic-bezier(0.65, 0, 0.35, 1);\n\n  &::placeholder {\n    color: rgba(255, 255, 255, .7);\n  }\n\n  &:focus, &:active {\n    border-bottom: rgba(255, 255, 255, .7) 2px solid;\n  }\n"]);return qn=function(){return n},n}function Qn(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return Qn=function(){return n},n}function Zn(){var n=Object(u.a)(["\n  margin: 5px;\n  padding: 0;\n"]);return Zn=function(){return n},n}function $n(){var n=Object(u.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: ",";\n  height: ",";\n  background-color: green;\n"]);return $n=function(){return n},n}var nt=function(n){Object(p.a)(e,n);var t=Object(h.a)(e);function e(n){var r;return Object(s.a)(this,e),(r=t.call(this,n)).state={connectionStatus:!1,iconWidth:150,inputWidth:100},window.addEventListener("resize",r.setAppSizes.bind(Object(l.a)(r))),r}return Object(d.a)(e,[{key:"componentDidMount",value:function(){this.setAppSizes()}},{key:"setAppSizes",value:function(){var n,t,e,r,a=window.innerWidth,i=window.innerHeight;a>=2560&&i>=1440?(n=2560,t=1440,e=250,r=170):a>=1920&&i>=1080?(n=1920,t=1080,e=150,r=100):(n=1280,t=720,e=150,r=100),this.props.setScreenSize(n,t),this.setState({iconWidth:e,inputWidth:r})}},{key:"setConnectionStatus",value:function(n,t,e){var r;this.setState({connectionStatus:n}),n&&(r=this.setConnectedClients.bind(this),b.on("newClientConnection",r),this.props.setUser(e,t))}},{key:"setConnectedClients",value:function(n){this.props.updateClientList(n)}},{key:"connect",value:function(n){n.preventDefault();var t=this.nameRef.value;t?(t.length>7&&(t=t.slice(0,7)),C(this.setConnectionStatus.bind(this),t)):console.log("enter a name")}},{key:"renderPreConnection",value:function(){var n=this,t=this.props,e=t.appHeight,r=t.appWidth,i=this.state,c=i.iconWidth,o=i.inputWidth;return a.a.createElement(tt,{width:r,height:e},a.a.createElement(et,null,a.a.createElement(it,{iconWidth:c,src:Kn.a,draggable:!1})),a.a.createElement(rt,{onSubmit:function(t){n.connect(t)}},a.a.createElement(at,{autoFocus:!0,placeholder:"Enter a name!",inputWidth:o,ref:function(t){n.nameRef=t}}),a.a.createElement(xn,{label:"Join"})))}},{key:"renderPostConnection",value:function(){var n=this.props,t=n.appHeight,e=n.appWidth;return a.a.createElement(tt,{width:e,height:t},a.a.createElement(Gn,null),a.a.createElement(Sn,null),a.a.createElement(un,null),a.a.createElement(Dn,null),a.a.createElement(nn,null))}},{key:"render",value:function(){return this.state.connectionStatus?this.renderPostConnection():this.renderPreConnection()}}]),e}(r.Component),tt=f.a.div($n(),(function(n){return"".concat(n.width,"px")}),(function(n){return"".concat(n.height,"px")})),et=f.a.h1(Zn()),rt=f.a.form(Qn()),at=f.a.input(qn(),(function(n){return"".concat(n.inputWidth,"px")})),it=f.a.img(Xn(),(function(n){return"".concat(n.iconWidth,"px")})),ct=Object(o.b)((function(n){var t=T(n),e=k(n),r=x(n);return{name:t,appWidth:r.appWidth,appHeight:r.appHeight,numStateChanges:e}}),{updateClientList:function(n){return{type:"UPDATE_CLIENT_LIST",payload:{clients:n,clientIds:Object.keys(n)}}},setScreenSize:function(n,t){return{type:"SET_SCREEN_SIZE",payload:{width:n,height:t}}},setUser:function(n,t){return{type:"SET_USER",payload:{name:n,id:t}}}})(nt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ot=e(16),ut={appWidth:1920,appHeight:1080,socket:{connected:!1},clients:{},clientIds:[],name:"",id:"",cards:[],trump:"2",currentBid:null,currentBottomClient:null,currentClientTurn:null,existingTricks:{},trumpTracker:{S:0,D:0,C:0,H:0,SJ:0,BJ:0},validBids:[],canSelectCards:!1,numCardsSelected:0,canBidForBottom:!0,cardsPlayed:[],numStateUpdated:0},st=Object(ot.b)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SCREEN_SIZE":return Object.assign({},n,{appWidth:t.payload.width,appHeight:t.payload.height});case"UPDATE_CLIENT_LIST":return Object.assign({},n,{clients:t.payload.clients,clientIds:t.payload.clientIds,numStateUpdated:n.numStateUpdated+1});case"SET_USER":return console.log(t.payload),Object.assign({},n,{name:t.payload.name,id:t.payload.id});case"SET_DECLARER":return console.log(t.payload),Object.assign({},n,{currentBottomClient:n.clients[t.payload]});case"UPDATE_MY_HAND":return Object.assign({},n,{cards:t.payload.cards,trumpTracker:t.payload.trumpTracker,numStateUpdated:n.numStateUpdated+1});case"SET_VALID_BIDS":return Object.assign({},n,{validBids:t.payload,numStateUpdated:n.numStateUpdated+1});case"SET_TRUMP_VALUE":return Object.assign({},n,{trump:t.payload});case"SET_CURRENT_BID":return Object.assign({},n,{currentBid:t.payload.bid,currentBottomClient:t.payload.socketId,numStateUpdated:n.numStateUpdated+1});case"CAN_SELECT_CARDS":return Object.assign({},n,{canSelectCards:t.payload});case"UPDATE_NUM_CARDS_SELECTED":return Object.assign({},n,{numCardsSelected:t.payload});case"TOGGLE_BID_BUTTONS":return Object.assign({},n,{canBidForBottom:t.payload});case"SET_CLIENT_TURN":return Object.assign({},n,{currentClientTurn:t.payload});case"SET_ALL_TRICKS":return Object.assign({},n,{existingTricks:t.payload,numStateUpdated:n.numStateUpdated+1});default:return n}}));c.a.render(a.a.createElement(o.a,{store:st},a.a.createElement(ct,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[50,1,2]]]);
//# sourceMappingURL=main.216a9797.chunk.js.map
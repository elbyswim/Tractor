(this.webpackJsonpwebui=this.webpackJsonpwebui||[]).push([[0],{49:function(n,t,e){n.exports=e.p+"static/media/tractor_logo.e6e625d4.svg"},50:function(n,t,e){n.exports=e(93)},60:function(n,t,e){},90:function(n,t){},93:function(n,t,e){"use strict";e.r(t);var r=e(0),i=e.n(r),a=e(15),c=e.n(a),o=e(3),u=(e(60),e(1)),s=e(5),d=e(6),l=e(17),p=e(11),f=e(10),h=e(2),m=e(28),g=function(){function n(t){Object(s.a)(this,n),this.path="/Tractor/cardsSVG/",this.suits=[],this.jokers=[],this.cards=[],this.suitOrder={S:0,D:1,C:2,H:3},this.valueOrder={A:0,K:1,Q:2,J:3,10:4,9:5,8:6,7:7,6:8,5:9,4:10,3:11,2:12},this.suits=new Set(["H","C","S","D"]),this.jokers=new Set(["S","B"]),this.cards=new Set(["A","2","3","4","5","6","7","8","9","10","J","Q","K"])}return Object(d.a)(n,[{key:"isValidCard",value:function(n){if("J"===n[1])return this.jokers.has(n[0]);var t=this.cards.has(n[0]),e=this.suits.has(n[1]);return t&&e}},{key:"getSvg",value:function(n){return this.isValidCard(n)||console.log("Invalid card: ".concat(n)),"".concat(this.path).concat(n[0]).concat(n[1],".svg")}},{key:"isTrump",value:function(n){return n[0]===this.trump}},{key:"insertCard",value:function(n,t,e,r){var i={card:t,isSelected:!1,svg:this.getSvg(t)};if(r&&("D"===r?this.suitOrder.S=4:"C"===r?(this.suitOrder.C=0,this.suitOrder.S=2):"H"===r&&(this.suitOrder.H=-1)),n.length>0){var a=0;if("S"===t[0]||"J"===t[1])for(;a<n.length&&"B"===n[a].card[0]&&"J"===n[a].card[1];)a++;else if(t[0]===e){for(;a<n.length&&"J"===n[a].card[1];)a++;for(;a<n.length&&n[a].card[0]===e&&this.suitOrder[n[a].card[1]]<this.suitOrder[t[1]];)a++}else{for(;a<n.length&&("J"===n[a].card[1]||n[a].card[0]===e);)a++;for(;a<n.length&&this.suitOrder[n[a].card[1]]<this.suitOrder[t[1]];)a++;for(;a<n.length&&this.suitOrder[n[a].card[1]]===this.suitOrder[t[1]]&&this.valueOrder[n[a].card[0]]<this.valueOrder[t[0]];)a++}n.splice(a,0,i)}else n.push(i)}},{key:"sortHand",value:function(n,t,e){arguments.length>3&&void 0!==arguments[3]&&arguments[3];var r=[],i=[],a=[],c=[],o=[],u=[],s=[],d=[],l=[],p=[];return"S"===e||"J"===e?n:(n.forEach((function(n){var e=n.card;"J"===e[1]&&o.push(n),e[0]===t?("S"===e[1]&&s.push(n),"C"===e[1]&&l.push(n),"H"===e[1]&&d.push(n),"D"===e[1]&&u.push(n)):("S"===e[1]&&a.push(n),"C"===e[1]&&i.push(n),"H"===e[1]&&c.push(n),"D"===e[1]&&r.push(n))})),p=p.concat(o),"C"===e&&(p=p.concat(l,d,s,u,i,c,a,r)),"H"===e&&(p=p.concat(d,s,u,l,c,a,r,i)),"D"===e&&(p=p.concat(u,l,d,s,r,i,c,a)),console.log("sortedCards",p),p)}},{key:"newTrump",value:function(n,t,e,r,i){"J"===e[1]?(n[e[0]+"J"]+=1,2===n[e[0]+"J"]&&(!r||"J"!==r[1]||"S"===r[0]&&"B"===e[0])&&t.push(e)):e[0]===i&&(console.log(n),n[e[1]]+=1,(!r||1===r[0]&&2===n[e[1]])&&t.push([n[e[1]],e[1]]))}},{key:"updateBid",value:function(n,t,e){e.splice(0,e.length),1===n[0]&&2===t[n[1]]&&e.push([2,n[1]])}},{key:"receiveBid",value:function(n,t,e){e.splice(0,e.length),m.a.isEqual(n,["B","J"])||(2===t.BJ&&e.push(["B","J"]),m.a.isEqual(n,["S","J"])||(2===t.SJ&&e.push(["S","J"]),2!==n[0]&&(2===t.S&&e.push([2,"S"]),2===t.D&&e.push([2,"D"]),2===t.C&&e.push([2,"C"]),2===t.H&&e.push([2,"H"]))))}}]),n}(),b=e(45),v=e.n(b),S=null;function C(n,t,e,r){S=v()("tractorserver.herokuapp.com"),function(n,t,e){S.on("connectionStatus",(function(r){console.log("connected"),n(r,S.id,t,e)}))}(n,e,r),function(n,t,e){S.emit("setSocketId",n,t,e)}(e,r,t)}var y=function(n){return{appWidth:n.appWidth,appHeight:n.appHeight}},x=function(n){return n.clients},T=function(n){return n.clientIds},E=function(n){return n.numStateUpdated},k=function(n){return n.name},O=function(n){return n.id},B=function(n){return n.cards},j=function(n){return n.validBids},w=function(n){return n.currentBid},I=function(n){return n.trump},H=function(n){return n.trumpTracker},_=function(n){return n.numCardsSelected},W=function(n){return n.existingTricks},D=function(n){return n.currentClientTurn},N=function(n,t){return{type:"UPDATE_MY_HAND",payload:{trumpTracker:t,cards:n}}},U=function(n,t){return{type:"SET_CURRENT_BID",payload:{socketId:n,bid:t}}},J=function(n){return{type:"CAN_SELECT_CARDS",payload:n}},R=function(n){return{type:"UPDATE_NUM_CARDS_SELECTED",payload:n}},P=function(n){return{type:"TOGGLE_BID_BUTTONS",payload:n}},L=function(n){return{type:"SET_CLIENT_TURN",payload:n}},A=function(n){return{type:"SET_ALL_TRICKS",payload:n}};function z(){var n=Object(u.a)(["\n  z-index: ",";\n  display: flex;\n  align-items: flex-end;\n  height: ",";\n\n  &:not(:first-child) {\n    /* margin-left: ","; */\n    margin-left: ",";\n  }\n\n  &:hover "," {\n    z-index: 100;\n    transform: ","\n  }\n"]);return z=function(){return n},n}function V(){var n=Object(u.a)(["\n  flex-shrink: 0;\n  width: 50px;\n  height: 75px;\n"]);return V=function(){return n},n}function F(){var n=Object(u.a)(["\n  z-index: ",";\n  display: flex;\n  align-items: flex-end;\n  \n  &:not(:first-child) {\n    margin-left: -30px;\n  }\n"]);return F=function(){return n},n}function M(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return M=function(){return n},n}function G(){var n=Object(u.a)(["\n  flex-shrink: 0;\n  width: ",";\n  height: ",";\n  transform: ",";\n"]);return G=function(){return n},n}function Y(){var n=Object(u.a)(["\n  position: fixed;\n  display: flex;\n  bottom: 40px;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  /* width: 1800px; */\n  /* height: ","; */\n"]);return Y=function(){return n},n}var K=new g("/cardsSVG/"),X=function(n){Object(p.a)(e,n);var t=Object(f.a)(e);function e(n){var r;return Object(s.a)(this,e),(r=t.call(this,n)).state={cardWidth:120,cardHeight:168,cardSelectedHeight:-30,cardHoveredHeight:-50,numCardsForBottom:0},r}return Object(d.a)(e,[{key:"componentDidMount",value:function(){this.setStage1Listeners(),this.setCardSize()}},{key:"setStage1Listeners",value:function(){var n,t,e,r,i,a;n=this.props.setTrumpValue.bind(this),S.on("setTrumpValue",(function(t){return n(t)})),t=this.setCards.bind(this),S.on("dealCard",t),e=this.updateBidStatus.bind(this),S.on("setNewBid",(function(n,t){return e(n,t)})),r=this.receiveBottomCards.bind(this),S.on("originalBottom",(function(n){return r(n)})),i=this.sortHand.bind(this),S.on("bidWon",i),a=this.getPoints.bind(this),S.on("opponentPoints",(function(n){return a(n)})),this.setCardSize()}},{key:"sortHand",value:function(){var n=this.props,t=n.cards,e=n.currentBid,r=n.trumpTracker,i=n.trumpValue;this.props.updateCardsInHand(K.sortHand(t,i,e[1]),r)}},{key:"getPoints",value:function(n){this.props.setPoints(n)}},{key:"setCardSize",value:function(){var n,t,e,r,i=this.props.appWidth;2560===i&&(n=204,t=286,r=-70,e=-90),1920===i&&(n=120,t=168,r=-30,e=-50),1280===i&&(n=110,t=148,r=-30,e=-50),this.setState({cardWidth:n,cardHeight:t,cardHoveredHeight:e,cardSelectedHeight:r})}},{key:"setCards",value:function(n){if(n&&2===n.length){var t=this.props,e=t.cards,r=t.trumpValue,i=t.trumpTracker,a=t.validBids,c=t.currentBid,o=t.toggleBidButtons,u=t.setCurrentBid,s=t.setClientTurn,d=t.setTricksPlayed,l=t.setPoints,p=t.setValidBids,f=t.updateCardsInHand;0===e.length&&(u("",[]),f([],{S:0,D:0,C:0,H:0,SJ:0,BJ:0}),s(null),d({}),l(0),console.log("resetting round")),K.insertCard(e,n,r,c),K.newTrump(i,a,n,c,r),p(a),f(e,i),25===e.length&&o(!0)}}},{key:"receiveBottomCards",value:function(n){var t=this;n.forEach((function(n){t.setCards(n)})),this.props.toggleCardSelector(!0),this.props.toggleBidButtons(!1)}},{key:"toggleSingleCard",value:function(n){var t=this.props,e=t.cards,r=t.numCardsSelected,i=e[n].isSelected;i?this.props.updateNumCardsSelected(r-1):this.props.updateNumCardsSelected(r+1),e[n].isSelected=!i}},{key:"toggleCards",value:function(n){var t=this.props,e=t.cards,r=t.trumpTracker,i=t.canSelectCards,a=t.numCardsSelected,c=e[n].isSelected;console.log("canToggleCards",i),i&&(e.length>25&&!c&&8===a?window.alert("Maximum cards for bottom selected"):(this.toggleSingleCard(n),this.props.updateCardsInHand(e,r)))}},{key:"getExistingTrickSvg",value:function(){var n=this.props,t=n.myId,e=n.existingTricks;return e&&e[t]?e[t].map((function(n){return K.getSvg(n)})):[]}},{key:"updateBidStatus",value:function(n,t){var e=this.props,r=e.trumpTracker,i=e.validBids;K.receiveBid(t,r,i),this.props.setCurrentBid(n,t)}},{key:"render",value:function(){var n=this,t=this.props,e=t.cards,r=t.numCards,a=this.state,c=a.cardWidth,o=a.cardHeight,u=a.cardSelectedHeight,s=a.cardHoveredHeight;return i.a.createElement(q,{height:o},i.a.createElement(Z,null,this.getExistingTrickSvg().map((function(n,t){return i.a.createElement($,{zIndex:t},i.a.createElement(nn,{draggable:!1,width:c,height:o,src:n,key:t}))}))),i.a.createElement(Z,null,e.map((function(t,e){return i.a.createElement(tn,{height:o,onClick:function(){n.toggleCards(e)},numCards:r,cardWidth:c,cardHoveredHeight:s,zIndex:e},i.a.createElement(Q,{draggable:!1,width:c,height:o,isSelected:t.isSelected,cardSelectedHeight:u,src:t.svg,key:e}))}))))}}]),e}(r.Component),q=h.b.div(Y(),(function(n){return"".concat(1.8*n.height,"px")})),Q=h.b.img(G(),(function(n){return"".concat(n.width,"px")}),(function(n){return"".concat(n.height,"px")}),(function(n){return n.isSelected&&"translateY(".concat(n.cardSelectedHeight,"px);")})),Z=h.b.div(M()),$=h.b.span(F(),(function(n){return n.zIndex})),nn=h.b.img(V()),tn=h.b.span(z(),(function(n){return n.zIndex}),(function(n){return"".concat(n.height+Math.abs(n.cardHoveredHeight),"px")}),(function(n){return"-".concat(2.3*n.numCards,"px")}),(function(n){return"-".concat(.7*n.cardWidth,"px")}),Q,(function(n){return"translateY(".concat(n.cardHoveredHeight,"px);")})),en=Object(o.b)((function(n){var t=O(n),e=B(n),r=x(n),i=W(n),a=w(n),c=I(n),o=H(n),u=j(n),s=function(n){return n.canSelectCards}(n),d=_(n),l=y(n),p=l.appWidth,f=l.appHeight;return{myId:t,cards:e,numCards:e.length,connectedClients:r,existingTricks:i,appWidth:p,appHeight:f,canSelectCards:s,numCardsSelected:d,currentBid:a,trumpValue:c,trumpTracker:o,validBids:u,changeState:E(n)}}),{updateCardsInHand:N,setValidBids:function(n){return{type:"SET_VALID_BIDS",payload:n}},setTrumpValue:function(n){return{type:"SET_TRUMP_VALUE",payload:n}},updateNumCardsSelected:R,toggleCardSelector:J,setPoints:function(n){return{type:"SET_POINTS",payload:n}},toggleBidButtons:P,setClientTurn:L,setTricksPlayed:A,setCurrentBid:U})(X);function rn(){var n=Object(u.a)(['\n  padding: 0 5px;\n  font-size: 14px;\n  font-weight: 400;\n  text-indent: -2px;\n\n  &::before {\n    content: "\ud83d\ude9c ";\n  }\n']);return rn=function(){return n},n}function an(){var n=Object(u.a)(["\n  padding-bottom: 5px;\n  font-weight: 500;\n"]);return an=function(){return n},n}function cn(){var n=Object(u.a)(["\n  position: fixed;\n  transform: translateX(-25%);\n  top: 10px;\n  right: 0;\n  padding: 10px 30px 10px 10px;\n  width: 150px;\n  border-radius: 5px;\n  background-color: rgba(0,0,0, .20);\n  color: rgba(255, 255, 255, .6);\n  font-size: 18px;\n  list-style: none;\n"]);return cn=function(){return n},n}var on=h.b.ul(cn()),un=h.b.div(an()),sn=h.b.li(rn()),dn=Object(o.b)((function(n){var t=O(n),e=k(n),r=x(n),i=T(n);return{myId:t,name:e,clients:r,roomName:function(n){return n.room}(n),clientTurn:D(n),clientIds:i,numStateChanges:E(n)}}))((function(n){var t=n.myId,e=n.name,a=n.clientIds,c=n.roomName,o=n.clients;Object(r.useEffect)((function(){document.title=e}));return i.a.createElement(on,null,i.a.createElement(un,null,"PLAYERS (",c,")"),a.map((function(e){return i.a.createElement(sn,{key:e},function(e){var r="";return n.clientTurn===e&&(r="Waiting for "),r+=e===t?"you":o[e]}(e))})))}));function ln(){var n=Object(u.a)(["\n  margin: 0 5px;\n  width: 40px;\n  height: 60px;\n  \n  &:nth-child(n + 2) {\n    margin: 0 -20px;\n  }\n"]);return ln=function(){return n},n}function pn(){var n=Object(u.a)(['\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  padding: 0 5px;\n  font-size: 14px;\n  font-weight: 400;\n  text-indent: -2px;\n\n  &::before {\n    content: "\ud83d\ude9c ";\n  }\n']);return pn=function(){return n},n}function fn(){var n=Object(u.a)(["\n  padding-bottom: 5px;\n  font-weight: 500;\n"]);return fn=function(){return n},n}function hn(){var n=Object(u.a)(["\n  position: fixed;\n  transform: translateX(25%);\n  top: 10px;\n  left: 0;\n  padding: 10px 30px 10px 10px;\n  width: 150px;\n  border-radius: 5px;\n  background-color: rgba(0,0,0, .20);\n  color: rgba(255, 255, 255, .6);\n  font-size: 18px;\n  list-style: none;\n"]);return hn=function(){return n},n}var mn=function(n){Object(p.a)(e,n);var t=Object(f.a)(e);function e(n){var r;return Object(s.a)(this,e),(r=t.call(this,n)).state={bidHistory:[],updateComponent:0},r}return Object(d.a)(e,[{key:"componentDidUpdate",value:function(n){var t=this,e=this.props,r=e.currentBid,i=e.currentBottomClient,a=this.state,c=a.bidHistory,o=a.updateComponent,u=n.currentBottomClient,s=n.currentBid;JSON.stringify(s)===JSON.stringify(r)&&JSON.stringify(i)===JSON.stringify(u)||(0!==r.length?(c.push([i,r]),this.setState({bidHistory:c}),u&&setTimeout((function(){c.shift(),t.setState({bidHistory:c,updateComponent:o+1})}),5e3)):this.setState({bidHistory:[]}))}},{key:"getTrumpCardSvgs",value:function(n){var t,e=this.props.trumpValue,r=new g("/cardsSVG/"),a=[];if(n&&n.length)if("J"===n[1]){t=r.getSvg(n);for(var c=0;c<2;c++)a.push(i.a.createElement(Sn,{src:t}))}else{t=r.getSvg([e,n[1]]);for(var o=0;o<n[0];o++)a.push(i.a.createElement(Sn,{src:t}))}return a}},{key:"render",value:function(){var n=this,t=this.props,e=t.clients,r=t.points,a=this.state.bidHistory;return i.a.createElement(gn,null,i.a.createElement(bn,null,"Points: ",r),i.a.createElement(bn,null,"TRUMP"),a.length?a.map((function(t){return i.a.createElement(vn,null,e[t[0]],": ",n.getTrumpCardSvgs(t[1]))})):"Undetermined")}}]),e}(r.Component),gn=h.b.ul(hn()),bn=h.b.div(fn()),vn=h.b.li(pn()),Sn=h.b.img(ln()),Cn=Object(o.b)((function(n){var t=x(n),e=function(n){return n.currentBottomClient}(n),r=w(n),i=function(n){return n.points}(n);return{clients:t,currentBid:r,trumpValue:I(n),points:i,currentBottomClient:e,numStateChanges:E(n)}}))(mn);function yn(){var n=Object(u.a)(["\n  display: inline-block;\n  font-family: 'Roboto';\n  font-weight: 400;\n  margin: 7px;\n  outline: none;\n  border: transparent 2px solid;\n  border-radius: 2px;\n  padding: 0 10px;\n  height: 25px; \n  width: auto;\n  background-color: rgba(240,240,240, 1);\n  transition: all .1s linear;\n  cursor: pointer;\n\n  &:hover {\n    background-color: rgba(240,240,240, .8);\n  }\n"]);return yn=function(){return n},n}var xn=h.b.button(yn()),Tn=function(n){return i.a.createElement(xn,{id:n.id,onClick:function(){return n.onClickCb&&n.onClickCb()}},n.label)};function En(){var n=Object(u.a)(["\n  padding-left: 5px;\n  font-size: 20px;\n  color: red;\n  filter: ",";\n"]);return En=function(){return n},n}function kn(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  margin: 5px;\n  padding: 0;\n  border-radius: 5px;\n  height: 40px;\n  width: 105px;\n"]);return kn=function(){return n},n}var On=Object(h.b)(xn)(kn()),Bn=h.b.span(En(),(function(n){return"black"===n.color&&"grayscale(1)"})),jn=function(n){return i.a.createElement(On,{onClick:function(){return n.onClickCb(n.bid)}},i.a.createElement("span",null,n.label),i.a.createElement(Bn,{color:n.color,dangerouslySetInnerHTML:{__html:n.icon}}))},wn={H:"&#9825;",S:"&#9828;",C:"&#9831;",D:"&#9826;",SJ:"&#127183;",BJ:"&#127183;"};function In(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  margin: 10px;\n  height: 40px;\n"]);return In=function(){return n},n}function Hn(){var n=Object(u.a)(["\n  z-index: 100;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  flex-wrap: wrap;\n"]);return Hn=function(){return n},n}var _n=new g,Wn=h.b.div(Hn()),Dn=h.b.div(In()),Nn=Object(o.b)((function(n){var t=k(n),e=O(n),r=j(n),i=I(n),a=H(n),c=function(n){return n.canBidForBottom}(n),o=w(n),u=D(n);return{myId:e,name:t,cards:B(n),validBids:r,clientTurnId:u,currentBid:o,trumpValue:i,canBidForBottom:c,trumpTracker:a,numCardsSelected:_(n),numUpdateStates:E(n)}}),{setCurrentBid:U,toggleBidButtons:P,updateCardsInHand:N,toggleCardSelector:J,setClientTurn:L,setTricksPlayed:A,updateNumCardsSelected:R})((function(n){var t=function(t){var e=n.myId,r=n.trumpTracker,i=n.validBids;!function(n){S.emit("newBid",n)}(t),n.setCurrentBid(e,t),_n.updateBid(t,r,i)},e=function(){var t,e,i,o=n.cards;S.emit("doneBid"),n.toggleBidButtons(!1),t=a,S.on("nextClient",(function(n){t(n)})),e=c,S.on("cardsPlayed",(function(n){console.log("Received current tricks",n),e(n)})),i=r,S.on("generateTrump",(function(n,t){return i(n,t)})),N(o,{S:0,D:0,C:0,H:0,SJ:0,BJ:0})},r=function(t,e){n.setCurrentBid(t,e)},a=function(t){var e=n.myId,r=n.setClientTurn,i=n.toggleCardSelector;r(t),console.log("enableTurnsListener","".concat(t,"'s turn")),i(e===t)},c=function(t){n.setTricksPlayed(t)},o=function(){var t,e=n.cards,r=n.trumpTracker,i=n.updateCardsInHand,a=n.toggleCardSelector,c=n.updateNumCardsSelected,o=[],u=[];e.forEach((function(n){n.isSelected?o.push(n.card):u.push(n)})),console.log("cards sent back for bottom",o),i(u,r),a(!1),c(0),t=o,console.log(S.id,"returning bottom",t),S.emit("newBottom",t)},u=function(t,e){var r=n.cards,i=n.updateCardsInHand,a=n.trumpTracker,c=n.toggleCardSelector,o=n.trumpValue,u=(n.setClientTurn,n.setCurrentBid,n.currentBid),s=n.updateNumCardsSelected;if("valid"===t)i(e,a),c(!1),s(0);else if("invalid"===t)alert("Invalid Trick"),i(r.map((function(n){return n.isSelected=!1,n})),a);else if("badThrow"===t){var d=[];alert("Bad Throw"),e.forEach((function(n){console.log(n,n.card),_n.insertCard(d,n.card,o,u[1])})),i(d,a)}},s=function(){var t=n.cards,e=[],r=[];t.forEach((function(n){n.isSelected?e.push(n.card):r.push(n)})),function(n,t,e){S.emit("clientPlay",n,t,e)}(e,r,u)};return i.a.createElement(Wn,null,i.a.createElement(Dn,null,n.canBidForBottom&&function(){var t=n.validBids,e=[];return t.forEach((function(n){var t={rawData:n};"J"===n[1]?e.push(Object.assign({},t,{renderData:"S"===n[0]?["No Trump","SJ"]:["No Trump","BJ"],color:"S"===n[0]?"black":"red"})):e.push(Object.assign({},t,{renderData:[n[0],n[1]],color:"S"===n[1]||"C"===n[1]?"black":"red"}))})),e}().map((function(n,e){return i.a.createElement(jn,{bid:n.rawData,label:n.renderData[0],icon:wn[n.renderData[1]]||"",color:n.color,onClickCb:t,key:e})}))),i.a.createElement("span",null,n.canBidForBottom&&i.a.createElement(Tn,{id:"finishBidBtn",label:"Finish Bid",onClickCb:e}),8===n.numCardsSelected&&n.cards.length>25&&i.a.createElement(Tn,{id:"finishBottomBtn",label:"Finish Bottom",onClickCb:o}),n.clientTurnId===n.myId&&!!n.numCardsSelected&&i.a.createElement(Tn,{id:"finishTrickBtn",label:"Finish Trick",onClickCb:s})))}));function Un(){var n=Object(u.a)(["\n  z-index: 0;\n  position: absolute;\n  display: ",";\n  align-items: center;\n  justify-content: center;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  background-color: transparent;\n  color: rgba(255, 255, 255, .1);\n  font-size: 20rem;\n"]);return Un=function(){return n},n}function Jn(){var n=Object(u.a)(["animation: "," 1s linear infinite"]);return Jn=function(){return n},n}function Rn(){var n=Object(u.a)(["\n  top: 50%;\n  right: 0;\n  transform: translateY(-50%);\n  border: ",";\n  margin-right: 30px;\n  ",";\n"]);return Rn=function(){return n},n}function Pn(){var n=Object(u.a)(["animation: "," 1s linear infinite"]);return Pn=function(){return n},n}function Ln(){var n=Object(u.a)(["\n  top: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  border: ",";\n  margin-top: 30px;\n  ",";\n"]);return Ln=function(){return n},n}function An(){var n=Object(u.a)(["animation: "," 1s linear infinite"]);return An=function(){return n},n}function zn(){var n=Object(u.a)(["\n  top: 50%;\n  left: 0;\n  transform: translateY(-50%);\n  border: ",";\n  margin-left: 30px;\n  ",";\n"]);return zn=function(){return n},n}function Vn(){var n=Object(u.a)(["\n  margin-right: 30px;\n"]);return Vn=function(){return n},n}function Fn(){var n=Object(u.a)(["\n  margin: 0 5px;\n  width: 60px;\n  height: 90px;\n  \n  &:nth-child(n + 2) {\n    margin: 0 -20px;\n  }\n"]);return Fn=function(){return n},n}function Mn(){var n=Object(u.a)(["\n  position: fixed;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  width: auto;\n  min-width: 200px;\n  height: 90px;\n  padding: 10px 30px 10px 10px;\n  border-radius: 5px;\n  font-size: 24px;\n  background-color: rgba(0,0,0, .20);\n  color: rgba(255, 255, 255, .6);\n"]);return Mn=function(){return n},n}function Gn(){var n=Object(u.a)(["\n  from {\n    rgba(0,0,0, .30);\n  }\n\n  to {\n    rgba(0,0,0, .10);\n  }\n"]);return Gn=function(){return n},n}var Yn=Object(h.c)(Gn()),Kn=h.b.div(Mn()),Xn=h.b.img(Fn()),qn=h.b.span(Vn()),Qn=Object(h.b)(Kn)(zn(),(function(n){return n.clientTurn&&n.myId===n.clientTurn?"2px solid red":"2px solid transparent"}),(function(n){return n.currentTrickWinner===n.myId?Object(h.a)(An(),Yn):""})),Zn=Object(h.b)(Kn)(Ln(),(function(n){return n.clientTurn&&n.myId===n.clientTurn?"2px solid red":"2px solid transparent"}),(function(n){return n.currentTrickWinner===n.myId?Object(h.a)(Pn(),Yn):""})),$n=Object(h.b)(Kn)(Rn(),(function(n){return n.clientTurn&&n.myId===n.clientTurn?"2px solid red":"2px solid transparent"}),(function(n){return n.currentTrickWinner===n.myId?Object(h.a)(Jn(),Yn):""})),nt=h.b.div(Un(),(function(n){return n.myId===n.clientTurn?"flex":"none"})),tt=Object(o.b)((function(n){var t=O(n),e=x(n),r=T(n),i=W(n),a=D(n),c=function(n){return n.getCurrentTrickWinner}(n),o=y(n);return{myId:t,clients:e,clientIds:r,currentTrickWinner:c,currentClientTurn:a,existingTricks:i,appWidth:o.appWidth,appHeight:o.appHeight,updateNumState:E(n)}}))((function(n){for(var t=n.myId,e=n.clients,r=n.clientIds,a=n.appWidth,c=n.existingTricks,o=n.currentClientTurn,u=n.currentTrickWinner,s=[],d=r.indexOf(t),l=1;l<4;l++)s.push(r[(d+l)%4]);var p=function(n){var t,r=new g("/cardsSVG/"),d=s[n],l=e[d],p=c[d],f=[];return p&&p.length>0&&p.forEach((function(n){t=r.getSvg(n),f.push(i.a.createElement(Xn,{src:t}))})),0===n?function(n,t,e){return i.a.createElement(Qn,{curWinner:u,clientTurn:o,myId:t,appWidth:a},s[0]?i.a.createElement(i.a.Fragment,null,i.a.createElement(qn,null,n,":"),e):"Waiting for Player...")}(l,d,f):1===n?function(n,t,e){return i.a.createElement(Zn,{curWinner:u,clientTurn:o,myId:t,appWidth:a},s[1]?i.a.createElement(i.a.Fragment,null,i.a.createElement(qn,null,n,":"),e):"Waiting for Player...")}(l,d,f):function(n,t,e){return i.a.createElement($n,{curWinner:u,clientTurn:o,myId:t,appWidth:a},s[2]?i.a.createElement(i.a.Fragment,null,i.a.createElement(qn,null,n,":"),e):"Waiting for Player...")}(l,d,f)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(nt,{myId:t,clientTurn:o},"Go"),p(0),p(1),p(2))})),et=e(49),rt=e.n(et);function it(){var n=Object(u.a)(["\n  width: ",";\n"]);return it=function(){return n},n}function at(){var n=Object(u.a)(["\n  margin: 5px 15px;\n  padding: 7px 10px;\n  outline: none;\n  border: transparent 2px solid;\n  border-radius: 2px 2px 0 0;\n  width: ",";\n  height: 15px;\n  background-color: darkgreen;\n  color: rgba(255, 255, 255, .9);\n  transition: all .3s cubic-bezier(0.65, 0, 0.35, 1);\n\n  &::placeholder {\n    color: rgba(255, 255, 255, .7);\n  }\n\n  &:focus, &:active {\n    border-bottom: rgba(255, 255, 255, .7) 2px solid;\n  }\n"]);return at=function(){return n},n}function ct(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return ct=function(){return n},n}function ot(){var n=Object(u.a)(["\n  margin: 5px;\n  padding: 0;\n"]);return ot=function(){return n},n}function ut(){var n=Object(u.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: ",";\n  height: ",";\n  background-color: green;\n"]);return ut=function(){return n},n}var st=function(n){Object(p.a)(e,n);var t=Object(f.a)(e);function e(n){var r;return Object(s.a)(this,e),(r=t.call(this,n)).state={connectionStatus:!1,iconWidth:150,inputWidth:100},window.addEventListener("resize",r.setAppSizes.bind(Object(l.a)(r))),r}return Object(d.a)(e,[{key:"componentDidMount",value:function(){this.setAppSizes()}},{key:"setAppSizes",value:function(){var n,t,e,r,i=window.innerWidth,a=window.innerHeight;i>=2560&&a>=1440?(n=2560,t=1440,e=250,r=200):i>=1920&&a>=1080?(n=1920,t=1080,e=150,r=130):(n=1280,t=720,e=150,r=130),this.props.setScreenSize(n,t),this.setState({iconWidth:e,inputWidth:r})}},{key:"setConnectionStatus",value:function(n,t,e,r){var i;this.setState({connectionStatus:n}),n&&(i=this.setConnectedClients.bind(this),S.on("newClientConnection",i),this.props.setUser(e,t,r))}},{key:"setConnectedClients",value:function(n){this.props.updateClientList(n)}},{key:"joinRoomValidator",value:function(n){n||(alert("Room is full."),this.setState({connectionStatus:!1}))}},{key:"connect",value:function(n){n.preventDefault();var t=this.nameRef.value,e=this.roomRef.value;t?e?(t.length>7&&(t=t.slice(0,7)),C(this.setConnectionStatus.bind(this),this.joinRoomValidator,t,e)):alert("enter a room"):alert("enter a name")}},{key:"renderPreConnection",value:function(){var n=this,t=this.props,e=t.appHeight,r=t.appWidth,a=this.state,c=a.iconWidth,o=a.inputWidth;return i.a.createElement(dt,{width:r,height:e},i.a.createElement(lt,null,i.a.createElement(ht,{iconWidth:c,src:rt.a,draggable:!1})),i.a.createElement(pt,{onSubmit:function(t){n.connect(t)}},i.a.createElement(ft,{autoFocus:!0,placeholder:"Enter a name!",inputWidth:o,ref:function(t){n.nameRef=t}}),i.a.createElement(ft,{placeholder:"Enter a room code!",inputWidth:o,ref:function(t){n.roomRef=t}}),i.a.createElement(Tn,{label:"Join"})))}},{key:"renderPostConnection",value:function(){var n=this.props,t=n.appHeight,e=n.appWidth;return i.a.createElement(dt,{width:e,height:t},i.a.createElement(tt,null),i.a.createElement(Cn,null),i.a.createElement(dn,null),i.a.createElement(Nn,null),i.a.createElement(en,null))}},{key:"render",value:function(){return this.state.connectionStatus?this.renderPostConnection():this.renderPreConnection()}}]),e}(r.Component),dt=h.b.div(ut(),(function(n){return"".concat(n.width,"px")}),(function(n){return"".concat(n.height,"px")})),lt=h.b.h1(ot()),pt=h.b.form(ct()),ft=h.b.input(at(),(function(n){return"".concat(n.inputWidth,"px")})),ht=h.b.img(it(),(function(n){return"".concat(n.iconWidth,"px")})),mt=Object(o.b)((function(n){var t=k(n),e=E(n),r=y(n);return{name:t,appWidth:r.appWidth,appHeight:r.appHeight,numStateChanges:e}}),{updateClientList:function(n){return{type:"UPDATE_CLIENT_LIST",payload:{clients:n,clientIds:Object.keys(n)}}},setScreenSize:function(n,t){return{type:"SET_SCREEN_SIZE",payload:{width:n,height:t}}},setUser:function(n,t,e){return{type:"SET_USER",payload:{name:n,id:t,room:e}}}})(st);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var gt=e(16),bt={appWidth:1920,appHeight:1080,socket:{connected:!1},clients:{},clientIds:[],name:"",id:"",cards:[],trump:"2",room:"",currentBid:null,currentTrickWinner:null,currentBottomClient:null,currentClientTurn:null,existingTricks:{},trumpTracker:{S:0,D:0,C:0,H:0,SJ:0,BJ:0},validBids:[],points:0,canSelectCards:!1,numCardsSelected:0,canBidForBottom:!1,cardsPlayed:[],numStateUpdated:0},vt=Object(gt.b)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SCREEN_SIZE":return Object.assign({},n,{appWidth:t.payload.width,appHeight:t.payload.height});case"UPDATE_CLIENT_LIST":return Object.assign({},n,{clients:t.payload.clients,clientIds:t.payload.clientIds,numStateUpdated:n.numStateUpdated+1});case"SET_USER":return console.log(t.payload),Object.assign({},n,{name:t.payload.name,room:t.payload.room,id:t.payload.id});case"SET_DECLARER":return console.log(t.payload),Object.assign({},n,{currentBottomClient:n.clients[t.payload]});case"UPDATE_MY_HAND":return Object.assign({},n,{cards:t.payload.cards,trumpTracker:t.payload.trumpTracker,numStateUpdated:n.numStateUpdated+1});case"SET_VALID_BIDS":return Object.assign({},n,{validBids:t.payload,numStateUpdated:n.numStateUpdated+1});case"SET_TRUMP_VALUE":return Object.assign({},n,{trump:t.payload});case"SET_CURRENT_BID":return Object.assign({},n,{currentBid:t.payload.bid,currentBottomClient:t.payload.socketId,numStateUpdated:n.numStateUpdated+1});case"CAN_SELECT_CARDS":return Object.assign({},n,{canSelectCards:t.payload});case"UPDATE_NUM_CARDS_SELECTED":return Object.assign({},n,{numCardsSelected:t.payload});case"TOGGLE_BID_BUTTONS":return Object.assign({},n,{canBidForBottom:t.payload});case"SET_CLIENT_TURN":return Object.assign({},n,{currentClientTurn:t.payload});case"SET_ALL_TRICKS":return Object.assign({},n,{existingTricks:t.payload,numStateUpdated:n.numStateUpdated+1});case"SET_POINTS":return Object.assign({},n,{points:t.payload});case"SET_CURRENT_TRICK_WINNER":return Object.assign({},n,{currentTrickWinner:t.payload});default:return n}}));c.a.render(i.a.createElement(o.a,{store:vt},i.a.createElement(mt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[50,1,2]]]);
//# sourceMappingURL=main.8ae20406.chunk.js.map